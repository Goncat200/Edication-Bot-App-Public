const { Telegraf, Markup } = require('telegraf');
const bot = new Telegraf('TELEGRAM_BOT_TOKEN');

// ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
bot.on('text', (ctx) => {
    ctx.reply(
        'ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð¯ â€” Ñ‚Ð²Ð¾Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº Ð² Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ð¸! ðŸ“š\n\n' +
        'ÐÐ°Ð¶Ð¼Ð¸ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð½Ð¸Ð¶Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð½Ð°ÑˆÐµÐ¼Ñƒ ÑƒÑ‡ÐµÐ±Ð½Ð¾Ð¼Ñƒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑŽ Ð¸ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ ÑƒÑ‡Ð¸Ñ‚ÑŒÑÑ ÑƒÐ¶Ðµ ÑÐµÐ¹Ñ‡Ð°Ñ!\n\n' +
        'âœ¨ ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ â€” ÑÑ‚Ð¾ ÐºÐ»ÑŽÑ‡ Ðº ÑƒÑÐ¿ÐµÑ…Ñƒ! âœ¨', 
        Markup.inlineKeyboard([
            Markup.button.url('ÐÐ°Ñ‡Ð°Ñ‚ÑŒ ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ',  'https://t.me/TELEGRAM_BOT_NAME/APP_NAME')
        ])
    );
});

// ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° /help
bot.help((ctx) => ctx.reply('ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒ Ð¼Ð½Ðµ ÑÑ‚Ð¸ÐºÐµÑ€ Ð¸Ð»Ð¸ Ð½Ð°Ð¿Ð¸ÑˆÐ¸ "hi"!'));

// ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÑÑ‚Ð¸ÐºÐµÑ€Ð¾Ð²
bot.on('sticker', (ctx) => ctx.reply('ðŸ‘'));

// ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ "hi"
bot.hears('hi', (ctx) => ctx.reply('ÐŸÑ€Ð¸Ð²ÐµÑ‚! ÐšÐ°Ðº Ð´ÐµÐ»Ð°?'));

// Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð´Ð»Ñ Ð¿Ð¾ÐºÐ°Ð·Ð° Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ°Ñ…
bot.command('developers', (ctx) => {
    ctx.reply('ÐœÐ¾Ð¸ Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ ÑÑ‚Ð¾ Ð“Ð¾Ð½Ñ‡Ð°Ñ€Ð¾Ð² ÐÐ¸ÐºÐ¸Ñ‚Ð° Ð’Ð¸Ñ‚Ð°Ð»ÑŒÐµÐ²Ð¸Ñ‡, Ð¡Ð°Ð¼Ð¾Ð¹Ð»Ð¾Ð² Ð¡Ð°ÑˆÐ°, ÐšÐµÐ»ÑŒÐ´Ð¸Ð±ÐµÐºÐ¾Ð² Ð˜Ð»ÑŒÑÑ');
});

// Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°
bot.launch();

// ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° graceful stop (Ð´Ð»Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹)
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));
